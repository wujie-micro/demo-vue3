(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"20fdb":function(e,t,o){"use strict";o.r(t);var c=o("71f5");const l={class:"content"},n=Object(c["createElementVNode"])("p",null,"应用可以有三种方式进行通信：",-1),a=Object(c["createElementVNode"])("h3",null,"1、主应用通过 props 属性注入的方法",-1),d=Object(c["createElementVNode"])("p",null,"主应用通过 props 注入 jump（跳转页面）方法，子应用通过 $wujie.props.jump(xxx) 来使用",-1),i=Object(c["createTextVNode"])("点击跳转react17"),r=Object(c["createElementVNode"])("h3",null,"2、通过 window.parent 方法拿到主应用的全局方法",-1),s=Object(c["createElementVNode"])("p",null,"子应用调用 window.parent.alert 来调用主应用的 alert方法",-1),b=Object(c["createTextVNode"])("显示alert"),u=Object(c["createElementVNode"])("h3",null,"3、通过 bus 方法发送去中心化的事件",-1),j=Object(c["createElementVNode"])("p",null,'主应用 bus.$on("click", (msg) => window.alert(msg)) 监听子应用的 click 事件',-1),p=Object(c["createElementVNode"])("p",null,"子应用点击按钮 $wujie.bus.$emit('click', 'vue3') 发送 click 事件",-1),O=Object(c["createTextVNode"])("点击emit");function m(e,t,o,m,V,h){const v=Object(c["resolveComponent"])("HelloWorld"),N=Object(c["resolveComponent"])("el-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(v,{msg:"通信处理"}),Object(c["createElementVNode"])("div",l,[n,a,d,Object(c["createElementVNode"])("p",null,[Object(c["createVNode"])(N,{onClick:h.handleClick},{default:Object(c["withCtx"])(()=>[i]),_:1},8,["onClick"])]),r,s,Object(c["createElementVNode"])("p",null,[Object(c["createVNode"])(N,{onClick:h.handleAlert},{default:Object(c["withCtx"])(()=>[b]),_:1},8,["onClick"])]),u,j,p,Object(c["createElementVNode"])("p",null,[Object(c["createVNode"])(N,{onClick:h.handleEmit},{default:Object(c["withCtx"])(()=>[O]),_:1},8,["onClick"])])])],64)}var V=o("fdab"),h={components:{HelloWorld:V["a"]},data(){return{dialogVisible:!1}},methods:{handleClick(){var e;null===(e=window)||void 0===e||e.$wujie.props.jump("react17")},handleAlert(){var e;null===(e=window)||void 0===e||e.parent.alert("主应用alert")},handleEmit(){var e;null===(e=window)||void 0===e||e.$wujie.bus.$emit("click","vue3")}}},v=o("4048"),N=o.n(v);const f=N()(h,[["render",m]]);t["default"]=f},"2f1f":function(e,t,o){"use strict";o("6048")},"3c20":function(e,t,o){"use strict";o.r(t);var c=o("71f5");const l=e=>(Object(c["pushScopeId"])("data-v-9c91291c"),e=e(),Object(c["popScopeId"])(),e),n={class:"content"},a=l(()=>Object(c["createElementVNode"])("p",null,"设置保活模式，切换应用时，子应用的路由和state都可以得到保留",-1)),d=l(()=>Object(c["createElementVNode"])("h3",null,"1、改动实例的状态，切换到react，点击按钮再回来看看",-1)),i={class:"number-content"},r=Object(c["createTextVNode"])("-"),s={class:"number"},b=Object(c["createTextVNode"])("+"),u=Object(c["createTextVNode"])("跳转react17");function j(e,t,o,l,j,p){const O=Object(c["resolveComponent"])("HelloWorld"),m=Object(c["resolveComponent"])("el-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(O,{msg:"子应用保活"}),Object(c["createElementVNode"])("div",n,[a,d,Object(c["createElementVNode"])("p",i,[Object(c["createVNode"])(m,{onClick:t[0]||(t[0]=e=>j.count-=1)},{default:Object(c["withCtx"])(()=>[r]),_:1}),Object(c["createElementVNode"])("span",s,Object(c["toDisplayString"])(j.count),1),Object(c["createVNode"])(m,{onClick:t[1]||(t[1]=e=>j.count+=1)},{default:Object(c["withCtx"])(()=>[b]),_:1}),Object(c["createVNode"])(m,{style:{"margin-left":"20px"},onClick:p.handleClick},{default:Object(c["withCtx"])(()=>[u]),_:1},8,["onClick"])])])],64)}var p=o("fdab"),O={components:{HelloWorld:p["a"]},mounted(){var e,t;null===(e=window)||void 0===e||null===(t=e.$wujie)||void 0===t||t.bus.$on("add",()=>this.count+=1),console.log("vue3 state mounted")},data(){return{count:10}},methods:{handleClick(){var e;null===(e=window)||void 0===e||e.$wujie.props.jump("react17")}}},m=(o("2f1f"),o("4048")),V=o.n(m);const h=V()(O,[["render",j],["__scopeId","data-v-9c91291c"]]);t["default"]=h},6048:function(e,t,o){},6771:function(e,t,o){},"692d":function(e,t,o){},"6f6c":function(e,t,o){"use strict";o("d080")},"70a0":function(e,t,o){"use strict";o("6771")},"836d":function(e,t,o){"use strict";o("692d")},"8e3a":function(e,t,o){"use strict";o.r(t);var c=o("71f5");const l=e=>(Object(c["pushScopeId"])("data-v-cf0b2058"),e=e(),Object(c["popScopeId"])(),e),n={class:"content"},a=l(()=>Object(c["createElementVNode"])("p",null,"当用户访问location来获取当前的url时，wujie统一拦截并回填子应用正确的地址",-1)),d=l(()=>Object(c["createElementVNode"])("h3",null,"1、获取 location.host 的值",-1)),i=l(()=>Object(c["createElementVNode"])("h3",null,"2、获取 window.location.host 的值",-1)),r=l(()=>Object(c["createElementVNode"])("h3",null,"3、修改window.location.href",-1)),s=Object(c["createTextVNode"])("跳转无极"),b=l(()=>Object(c["createElementVNode"])("p",null,"子应用修改location.href，会将当前的子应用的shadow删除并且替换成一个iframe",-1)),u=l(()=>Object(c["createElementVNode"])("blockquote",null,[Object(c["createElementVNode"])("div",null,"如果子应用配置路由同步，浏览器可通过回退回到子应用")],-1));function j(e,t,o,l,j,p){const O=Object(c["resolveComponent"])("HelloWorld"),m=Object(c["resolveComponent"])("el-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(O,{msg:"location处理"}),Object(c["createElementVNode"])("div",n,[a,d,Object(c["createElementVNode"])("blockquote",null,[Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(j.host),1)]),i,Object(c["createElementVNode"])("blockquote",null,[Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(j.windowHost),1)]),r,Object(c["createVNode"])(m,{type:"warning",onClick:p.handleClick},{default:Object(c["withCtx"])(()=>[s]),_:1},8,["onClick"]),b,u])],64)}var p=o("fdab");const O=location.host,m=window.location.host;var V={name:"About",components:{HelloWorld:p["a"]},data(){return{host:O,windowHost:m}},mounted(){console.log("vue3 location mounted")},methods:{handleClick(){var e;null!==(e=window.__WUJIE)&&void 0!==e&&e.degrade||!window.Proxy||!window.CustomElementRegistry?window.$wujie.location.href="https://wujicode.cn/xy/app/prod/official/index":window.location.href="https://wujicode.cn/xy/app/prod/official/index"}}},h=(o("70a0"),o("4048")),v=o.n(h);const N=v()(V,[["render",j],["__scopeId","data-v-cf0b2058"]]);t["default"]=N},9209:function(e,t,o){"use strict";o.r(t);var c=o("71f5");const l=e=>(Object(c["pushScopeId"])("data-v-70ae09be"),e=e(),Object(c["popScopeId"])(),e),n=l(()=>Object(c["createElementVNode"])("div",{class:"title"},"vue3-iframe",-1)),a={style:{"padding-bottom":"10px"}},d=Object(c["createTextVNode"])("发送消息给主应用"),i=Object(c["createTextVNode"])("发送消息给vue2子应用(借助主应用)"),r=Object(c["createTextVNode"])("发送消息给自己(借助主应用)");function s(e,t,o,l,s,b){const u=Object(c["resolveComponent"])("el-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[n,Object(c["createElementVNode"])("div",a,"接收的消息："+Object(c["toDisplayString"])(s.message),1),Object(c["createVNode"])(u,{onClick:b.postMessageToMain},{default:Object(c["withCtx"])(()=>[d]),_:1},8,["onClick"]),Object(c["createVNode"])(u,{onClick:b.postMessageToSubApp},{default:Object(c["withCtx"])(()=>[i]),_:1},8,["onClick"]),Object(c["createVNode"])(u,{onClick:b.postMessageToIframe},{default:Object(c["withCtx"])(()=>[r]),_:1},8,["onClick"])])}var b={data(){return{message:""}},methods:{jump(e){this.$router.push({name:e})},handleMessage(e){try{let t=JSON.parse(e.data);"vue3"===t.type&&(this.message=t.message)}catch(t){return}},postMessageToMain(){const e=window.parent,t={type:"main",message:"hello, i'm sub app's iframe"};e.postMessage(JSON.stringify(t),"*")},postMessageToSubApp(){const e=window.parent,t={type:"vue2",message:"hello, i'm sub app's iframe"};e.postMessage(JSON.stringify(t),"*")},postMessageToIframe(){const e=window.parent,t={type:"vue3",message:"hello, i'm sub app's iframe"};e.postMessage(JSON.stringify(t),"*")}},mounted(){window.addEventListener("message",this.handleMessage)},onMounted(){window.removeEventListener("message",this.handleMessage)}},u=(o("836d"),o("4048")),j=o.n(u);const p=j()(b,[["render",s],["__scopeId","data-v-70ae09be"]]);t["default"]=p},a20a:function(e,t,o){"use strict";o.r(t);var c=o("71f5");const l={class:"content"},n=Object(c["createElementVNode"])("p",null,"弹窗无需子应用做任何处理就可使用",-1),a=Object(c["createElementVNode"])("h3",null,"1、打开弹窗",-1),d=Object(c["createTextVNode"])("点击打开el-dialog"),i=Object(c["createTextVNode"])("点击打开ant-modal"),r=Object(c["createElementVNode"])("h3",null,"2、打开选择器",-1),s=Object(c["createTextVNode"])("Jack"),b=Object(c["createTextVNode"])("Lucy"),u=Object(c["createTextVNode"])("Disabled"),j=Object(c["createTextVNode"])("yiminghe"),p=Object(c["createElementVNode"])("h3",null,"3、打开气泡卡片",-1),O=Object(c["createTextVNode"])("el-popover hover 激活"),m=Object(c["createElementVNode"])("p",null,"Content",-1),V=Object(c["createElementVNode"])("p",null,"Content",-1),h=Object(c["createTextVNode"])("ant-popover Hover me "),v=Object(c["createElementVNode"])("h3",null,"4、手动向body中append弹窗",-1),N=Object(c["createElementVNode"])("span",null,"This is a message",-1),f={class:"dialog-footer"},w=Object(c["createTextVNode"])("Cancel"),C=Object(c["createTextVNode"])("Confirm"),g=Object(c["createElementVNode"])("p",null,"Some contents...",-1),x=Object(c["createElementVNode"])("p",null,"Some contents...",-1),k=Object(c["createElementVNode"])("p",null,"Some contents...",-1);function E(e,t,o,E,y,_){const T=Object(c["resolveComponent"])("HelloWorld"),S=Object(c["resolveComponent"])("el-button"),B=Object(c["resolveComponent"])("a-button"),M=Object(c["resolveComponent"])("el-option"),H=Object(c["resolveComponent"])("el-select"),I=Object(c["resolveComponent"])("a-select-option"),$=Object(c["resolveComponent"])("a-select"),A=Object(c["resolveComponent"])("el-popover"),W=Object(c["resolveComponent"])("a-popover"),J=Object(c["resolveComponent"])("AppendBody"),D=Object(c["resolveComponent"])("el-dialog"),L=Object(c["resolveComponent"])("a-modal");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Object(c["createVNode"])(T,{msg:"弹窗处理"}),Object(c["createElementVNode"])("div",l,[n,a,Object(c["createElementVNode"])("p",null,[Object(c["createVNode"])(S,{onClick:t[0]||(t[0]=e=>y.dialogVisible=!0)},{default:Object(c["withCtx"])(()=>[d]),_:1}),Object(c["createVNode"])(B,{onClick:t[1]||(t[1]=e=>y.modalVisible=!0),style:{"margin-left":"20px"}},{default:Object(c["withCtx"])(()=>[i]),_:1})]),r,Object(c["createElementVNode"])("p",null,[Object(c["createVNode"])(H,{modelValue:y.value,"onUpdate:modelValue":t[2]||(t[2]=e=>y.value=e),placeholder:"el-select"},{default:Object(c["withCtx"])(()=>[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(y.options,e=>(Object(c["openBlock"])(),Object(c["createBlock"])(M,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),Object(c["createVNode"])($,{placeholder:"ant-select",style:{"margin-left":"20px",width:"200px"}},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(I,{value:"jack"},{default:Object(c["withCtx"])(()=>[s]),_:1}),Object(c["createVNode"])(I,{value:"lucy"},{default:Object(c["withCtx"])(()=>[b]),_:1}),Object(c["createVNode"])(I,{value:"disabled",disabled:""},{default:Object(c["withCtx"])(()=>[u]),_:1}),Object(c["createVNode"])(I,{value:"Yiminghe"},{default:Object(c["withCtx"])(()=>[j]),_:1})]),_:1})]),p,Object(c["createElementVNode"])("p",null,[Object(c["createVNode"])(A,{placement:"top-start",title:"Title",width:200,trigger:"hover",content:"this is content, this is content, this is content"},{reference:Object(c["withCtx"])(()=>[Object(c["createVNode"])(S,null,{default:Object(c["withCtx"])(()=>[O]),_:1})]),_:1}),Object(c["createVNode"])(W,{title:"antd-popover"},{content:Object(c["withCtx"])(()=>[m,V]),default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(B,{style:{"margin-left":"15px"}},{default:Object(c["withCtx"])(()=>[h]),_:1})]),_:1})]),v,Object(c["createElementVNode"])("p",null,[Object(c["createVNode"])(J)])]),Object(c["createVNode"])(D,{modelValue:y.dialogVisible,"onUpdate:modelValue":t[5]||(t[5]=e=>y.dialogVisible=e),title:"Tips",width:"30%"},{footer:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("span",f,[Object(c["createVNode"])(S,{onClick:t[3]||(t[3]=e=>y.dialogVisible=!1)},{default:Object(c["withCtx"])(()=>[w]),_:1}),Object(c["createVNode"])(S,{type:"primary",onClick:t[4]||(t[4]=e=>y.dialogVisible=!1)},{default:Object(c["withCtx"])(()=>[C]),_:1})])]),default:Object(c["withCtx"])(()=>[N]),_:1},8,["modelValue"]),Object(c["createVNode"])(L,{visible:y.modalVisible,"onUpdate:visible":t[6]||(t[6]=e=>y.modalVisible=e),title:"ant Modal",onOk:t[7]||(t[7]=e=>y.modalVisible=!1)},{default:Object(c["withCtx"])(()=>[g,x,k]),_:1},8,["visible"])])}var y=o("fdab");const _=Object(c["createTextVNode"])("点击插入body"),T=Object(c["createTextVNode"])("点击删除body");function S(e,t,o,l,n,a){const d=Object(c["resolveComponent"])("el-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Object(c["createVNode"])(d,{onClick:a.handleAdd},{default:Object(c["withCtx"])(()=>[_]),_:1},8,["onClick"]),Object(c["createVNode"])(d,{onClick:a.handleRemove},{default:Object(c["withCtx"])(()=>[T]),_:1},8,["onClick"])])}var B={setup(){return{}},data(){return{dialog:null}},methods:{handleAdd(){if(fetch("./about"),this.dialog)return;let e=document.createElement("div");e.innerHTML="body中插入position为fixed元素",e.style.cssText="position: fixed; z-index: 100; top: 0; left: 0; width: 400px; text-align: center; height: 100px; line-height: 100px; background-color: #41b883",document.body.appendChild(e),this.dialog=e},handleRemove(){this.dialog&&document.body.removeChild(this.dialog),this.dialog=null}}},M=o("4048"),H=o.n(M);const I=H()(B,[["render",S]]);var $=I,A={components:{HelloWorld:y["a"],AppendBody:$},data(){return{dialogVisible:!1,modalVisible:!1,options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],value:""}},mounted(){console.log("vue3 dialog mounted")}};o("6f6c");const W=H()(A,[["render",E]]);t["default"]=W},d080:function(e,t,o){}}]);
//# sourceMappingURL=about.08fab218.js.map